{"version":3,"sources":["../src/with-router.ts"],"names":["withRouter","comp","React","forwardRef","props","ref","WithRouter","state","inited","route","setState","createElement","children","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEe,SAASA,UAAT,CAAoBC,IAApB,EAA0E;AACvF,SAAOC,eAAMC,UAAN,CAAiB,UAACC,KAAD,EAAQC,GAAR,EAAqB;AAAA,QACrCC,UADqC;AAAA;AAAA;AAAA;;AAKzC,0BAAYF,KAAZ,EAA2B;AAAA;;AAAA;;AACzB,wFAAMA,KAAN;;AADyB;;AAEzB,cAAKG,KAAL,GAAa;AAAEC,UAAAA,MAAM,EAAE,KAAV;AAAiBC,UAAAA,KAAK,EAAE;AAAxB,SAAb;AAFyB;AAG1B;;AARwC;AAAA;AAAA,4CAUrB;AAClB,cAAIA,KAAK,GAAG,0BAAe,IAAf,CAAZ;AACA,eAAKC,QAAL,CAAc;AAAEF,YAAAA,MAAM,EAAE,IAAV;AAAgBC,YAAAA,KAAK,EAALA;AAAhB,WAAd;AACD;AAbwC;AAAA;AAAA,iCAehC;AACP,cAAI,CAAC,KAAKF,KAAL,CAAWC,MAAhB,EAAwB,OAAO,IAAP;AACxB,iBAAON,eAAMS,aAAN,wBACLV,IADK,oBAGAG,KAHA;AAIHC,YAAAA,GAAG,EAAHA,GAJG;AAKHI,YAAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE;AALf,wCAODL,KAAK,CAACQ,QAAN,IAAuC,EAPtC,GAAP;AASD;AA1BwC;;AAAA;AAAA,MAClBV,eAAMW,SADY;;AA6B3C,WAAOX,eAAMS,aAAN,CAAoBL,UAApB,EAAgC,EAAhC,CAAP;AACD,GA9BM,CAAP;AA+BD","sourcesContent":["import React from 'react';\r\nimport { getParentRoute } from './util';\r\n\r\nexport default function withRouter(comp: React.FunctionComponent | React.ComponentClass) {\r\n  return React.forwardRef((props, ref: any) => {\r\n    class WithRouter extends React.Component {\r\n\r\n      state: { inited: boolean, route: any };\r\n\r\n      constructor(props: object) {\r\n        super(props);\r\n        this.state = { inited: false, route: null };\r\n      }\r\n\r\n      componentDidMount() {\r\n        let route = getParentRoute(this);\r\n        this.setState({ inited: true, route });\r\n      }\r\n\r\n      render() {\r\n        if (!this.state.inited) return null;\r\n        return React.createElement(\r\n          comp,\r\n          {\r\n            ...props,\r\n            ref,\r\n            route: this.state.route\r\n          } as any,\r\n          ...(props.children as React.ReactNode[] || [])\r\n        );\r\n      }\r\n\r\n    }\r\n    return React.createElement(WithRouter, {});\r\n  });\r\n}\r\n"],"file":"with-router.js"}